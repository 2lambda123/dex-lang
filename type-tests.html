<!DOCTYPE HTML>
<html><head><link rel="stylesheet" href="style.css" type="text/css"><meta charset="UTF-8"></head><body><div id="main-output"><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="prose-block"><p>TODO: improve these &quot;ambiguous type&quot; error messages. The problem is that they
expose the core IR to show where the ambiguous types appear. We might be able to
improve things by recording source information when we create fresh inference
variables. Solving fully (insisting on no ambiguity) at each decl might also
help make the errors more local.</p>
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \x. x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ((_ans_ @&gt; _ans_), [_ans_:(?-&gt;?) = \x:?. x])
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \x. sum for i. x.i
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?3]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ( (_ans_ @&gt; _ans_)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; , [ _ans_:((?3=&gt;Real)-&gt;Real) = \x:(?3=&gt;Real).
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp:((?3=&gt;Real)-&gt;Real) = (sum) (?3)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp1:(?3=&gt;Real) = for \i:?3. (x) (i)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   (tmp) (tmp1) ] )
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \f x y. f y x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?3, ?6, ?7]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ( (_ans_ @&gt; _ans_)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; , [ _ans_:((?3-&gt;(?6-&gt;?7))-&gt;(?6-&gt;(?3-&gt;?7))) = \f:(?3-&gt;(?6-&gt;?7)). \x:?6. \y:?3.
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp:(?6-&gt;?7) = (f) (y)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   (tmp) (x) ] )
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \x. for i j. x.j.i
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?3, ?6, ?7]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ( (_ans_ @&gt; _ans_)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; , [ _ans_:((?3=&gt;(?6=&gt;?7))-&gt;(?6=&gt;(?3=&gt;?7))) = \x:(?3=&gt;(?6=&gt;?7)). for \i:?6. for \j:?3.
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp1:(?6=&gt;?7) = (x) (j)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   (tmp1) (i) ] )
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \f x. f x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?2, ?3]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ((_ans_ @&gt; _ans_), [_ans_:((?2-&gt;?3)-&gt;(?2-&gt;?3)) = \f:(?2-&gt;?3). \x:?2. (f) (x)])
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :t \x. for (i,j). x.i.j
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Ambiguous type variables: [?4, ?7, ?8]
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; ( (_ans_ @&gt; _ans_)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; , [ _ans_:((?4=&gt;(?7=&gt;?8))-&gt;((?4 &amp; ?7)=&gt;?8)) = \x:(?4=&gt;(?7=&gt;?8)). for \pat:(?4 &amp; ?7).
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp1:?4 = %fst pat
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp2:?7 = %snd pat
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   tmp3:(?7=&gt;?8) = (x) (tmp1)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   (tmp3) (tmp2) ] )
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   myid <span class="symbol">:</span> a<span class="symbol">:</span><span class="type-name">Type</span> <span class="symbol">?-&gt;</span> a <span class="symbol">-&gt;</span> a <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> x
   myid (myid) (myid 1)
</div><div class="result-block">Int</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   x <span class="symbol">=</span> iota (<span class="type-name">Fin</span> 10)
   sum x
</div><div class="result-block">Int</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   x <span class="symbol">=</span> iota (<span class="type-name">Fin</span> 10)
   y <span class="symbol">=</span> iota (<span class="type-name">Fin</span> 3)
   i2r (sum <span class="keyword">for</span> i<span class="symbol">.</span> x<span class="symbol">.</span>i) <span class="symbol">+</span> i2r (sum <span class="keyword">for</span> j<span class="symbol">.</span> y<span class="symbol">.</span>j)
</div><div class="result-block">Real</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   x <span class="symbol">=</span> iota (<span class="type-name">Fin</span> 10)
   y <span class="symbol">=</span> iota (<span class="type-name">Fin</span> 3)
   sum <span class="keyword">for</span> i<span class="symbol">.</span> x<span class="symbol">.</span>i <span class="symbol">+</span> y<span class="symbol">.</span>i
</div><div class="err-block">Type error:
Expected: (Fin 3)
  Actual: (Fin 10)

   sum for i. x.i + y.i
                      ^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="type-name">Narr</span> <span class="symbol">=</span> <span class="type-name">Fin</span> 10
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">arr  <span class="symbol">=</span> iota <span class="type-name">Narr</span>
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">xr <span class="symbol">=</span> map i2r arr
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> arr
</div><div class="result-block">((Fin 10) =&gt; Int)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> (<span class="symbol">\</span>(x<span class="symbol">,</span> y)<span class="symbol">.</span> x <span class="symbol">+</span> y) (1<span class="symbol">.</span>0<span class="symbol">,</span> 2<span class="symbol">.</span>0)
</div><div class="result-block">Real</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   f <span class="symbol">=</span> <span class="symbol">\</span>(x<span class="symbol">,</span> y)<span class="symbol">.</span> x <span class="symbol">+</span> 2<span class="symbol">.</span>0 <span class="symbol">*</span> y
   z <span class="symbol">=</span> <span class="keyword">for</span> i<span class="symbol">.</span> (xr<span class="symbol">.</span>i<span class="symbol">,</span> xr<span class="symbol">.</span>i <span class="symbol">*</span> xr<span class="symbol">.</span>i)
   sum (<span class="keyword">for</span> i<span class="symbol">.</span> f z<span class="symbol">.</span>i)
</div><div class="result-block">Real</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> [1<span class="symbol">,</span> 2<span class="symbol">,</span> 3]
</div><div class="result-block">((Fin 3) =&gt; Int)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> []
</div><div class="err-block">Type error:Empty table constructor must have type annotation

:t []
   ^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> [1<span class="symbol">,</span> [2]]
</div><div class="err-block">Type error:
Expected: Int
  Actual: ((Fin 1) =&gt; Int)

:t [1, [2]]
       ^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> [[1<span class="symbol">,</span> 2]<span class="symbol">,</span> [3<span class="symbol">,</span> 4]]
</div><div class="result-block">((Fin 2) =&gt; (Fin 2) =&gt; Int)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> [[1<span class="symbol">,</span> 2]<span class="symbol">,</span> [3]]
</div><div class="err-block">Type error:
Expected: ((Fin 2) =&gt; Int)
  Actual: ((Fin 1) =&gt; Int)

:t [[1, 2], [3]]
            ^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">f <span class="symbol">:</span> <span class="type-name">Int</span> <span class="symbol">-&gt;</span> <span class="type-name">Real</span> <span class="symbol">=</span>
 <span class="symbol">\</span>x<span class="symbol">.</span>
   z <span class="symbol">=</span> x <span class="symbol">+</span> 1<span class="symbol">.</span>0
   x
</div><div class="err-block">Type error:
Expected: Int
  Actual: Real

   z = x + 1.0
           ^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   x <span class="symbol">=</span> 3
   <span class="keyword">for</span> i<span class="symbol">:</span><span class="type-name">Foo</span><span class="symbol">.</span> 0
</div><div class="err-block">Error: variable not in scope: Foo

   for i:Foo. 0
         ^^^
</div></div><div class="cell"><div class="code-block">

</div></div><div class="cell"><div class="code-block"><span class="type-name">MyInt</span> <span class="symbol">=</span> <span class="type-name">Int</span>
</div></div><div class="cell"><div class="code-block"><span class="type-name">MyInt2</span> <span class="symbol">=</span> <span class="type-name">MyInt</span>
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">x <span class="symbol">:</span> <span class="type-name">MyInt2</span> <span class="symbol">=</span> 1
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="type-name">MyPair</span> <span class="symbol">:</span> <span class="type-name">Type</span> <span class="symbol">-&gt;</span> <span class="type-name">Type</span> <span class="symbol">=</span>
  <span class="symbol">\</span>a<span class="symbol">.</span> (a <span class="symbol">&amp;</span> a)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:p</span>
  pairs <span class="symbol">:</span> (<span class="type-name">MyPair</span> <span class="type-name">Int</span> <span class="symbol">&amp;</span> <span class="type-name">MyPair</span> <span class="type-name">Real</span>) <span class="symbol">=</span>
    ((1<span class="symbol">,</span> 2)<span class="symbol">,</span> (1<span class="symbol">.</span>0<span class="symbol">,</span> 2<span class="symbol">.</span>0))

  pairs
</div><div class="result-block">((1, 2), (1.0, 2.0))</div></div><div class="cell"><div class="code-block">

</div></div><div class="cell"><div class="code-block"><span class="comment">-- TODO: put source annotation on effect for a better message here
</span></div></div><div class="cell"><div class="code-block">fEff <span class="symbol">:</span> <span class="type-name">Unit</span> <span class="symbol">-&gt;</span> {<span class="symbol">|</span> a} a <span class="symbol">=</span> todo
</div><div class="err-block">Type error:
Expected: EffKind
  Actual: Type

fEff : Unit -&gt; {| a} a = todo
            ^^^^^^^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:p</span>
    <span class="keyword">for</span> i<span class="symbol">:</span>(<span class="type-name">Fin</span> 7)<span class="symbol">.</span> sum <span class="keyword">for</span> j<span class="symbol">:</span>(<span class="type-name">Fin</span> unboundName)<span class="symbol">.</span> 1<span class="symbol">.</span>0
</div><div class="err-block">Error: variable not in scope: unboundName

    for i:(Fin 7). sum for j:(Fin unboundName). 1.0
                                  ^^^^^^^^^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- differentCaseResultTypes : Either Int Real -&gt; Real
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- differentCaseResultTypes x = case x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--   Left f -&gt; f
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--   Right i -&gt; i
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Expected: Int
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   Actual: Real
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; In: i
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   Right i -&gt; i
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;              ^
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- inferEither x = case x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--     Left i -&gt; i + 1
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--     Right f -&gt; floor f
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- caseEffects : wRef:(Ref Real) -&gt; (Either Int Real) -&gt; {Writer wRef} ()
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- caseEffects ref x = case x
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--     Left  i -&gt; ()
</span></div></div><div class="cell"><div class="code-block"><span class="comment">--     Right r -&gt; ref := r
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Expected: { }
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;   Actual: {State ref | ?_28}
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; In: (ref := r)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;     Right r -&gt; ref := r
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;                    ^^^
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :p (\(u,v). for i:0...u. 1.0) (2, 3)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; Type error:Function&#39;s result type cannot depend on a variable bound in an argument pattern
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; :p (\(u,v). for i:0...u. 1.0) (2, 3)
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt;     ^^^^^^^^^^^^^^^^^^^^^^^^
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">g <span class="symbol">:</span> a <span class="symbol">-&gt;</span> a <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> x
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> g
</div><div class="result-block">((a:Type) ?-&gt; a -&gt; a)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
  f <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">:</span><span class="type-name">Int</span><span class="symbol">.</span> x
  f 1
</div><div class="result-block">Int</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span>
   f <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">:</span><span class="type-name">Real</span><span class="symbol">.</span> x
   f 1
</div><div class="err-block">Type error:
Expected: Real
  Actual: Int

   f 1
     ^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">g1 <span class="symbol">:</span> (a <span class="symbol">-&gt;</span> <span class="type-name">Int</span>) <span class="symbol">-&gt;</span> (a <span class="symbol">-&gt;</span> <span class="type-name">Int</span>) <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> x
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> g1
</div><div class="result-block">((a:Type) ?-&gt; (a -&gt; Int) -&gt; a -&gt; Int)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">g2 <span class="symbol">:</span> a <span class="symbol">-&gt;</span> a <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> idiv x x
</div><div class="err-block">Type error:
Expected: Int
  Actual: a

g2 : a -&gt; a = \x. idiv x x
                       ^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">h <span class="symbol">:</span> (a <span class="symbol">-&gt;</span> b) <span class="symbol">-&gt;</span> (a <span class="symbol">-&gt;</span> b) <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> x
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:t</span> h
</div><div class="result-block">((a:Type) ?-&gt; (a1:Type) ?-&gt; (a -&gt; a1) -&gt; a -&gt; a1)</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">fun <span class="symbol">:</span> a <span class="symbol">-&gt;</span> a <span class="symbol">=</span> <span class="symbol">\</span>x<span class="symbol">.</span> sin x
</div><div class="err-block">Type error:
Expected: Real
  Actual: a

fun : a -&gt; a = \x. sin x
                       ^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="keyword">data</span> <span class="type-name">NewPair</span> a<span class="symbol">:</span><span class="type-name">Type</span> b<span class="symbol">:</span><span class="type-name">Type</span> <span class="symbol">=</span> <span class="type-name">MkNewPair</span> a b
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">fromNewPair <span class="symbol">:</span> <span class="type-name">NewPair</span> a b <span class="symbol">-&gt;</span> (a <span class="symbol">&amp;</span> b) <span class="symbol">=</span> <span class="symbol">\</span>(<span class="type-name">MkNewPair</span> x y)<span class="symbol">.</span> (x<span class="symbol">,</span> y)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">newPair <span class="symbol">:</span> <span class="type-name">NewPair</span> <span class="type-name">Int</span> <span class="type-name">Real</span> <span class="symbol">=</span> <span class="type-name">MkNewPair</span> 1 2<span class="symbol">.</span>0
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:p</span> fst newPair
</div><div class="err-block">Type error:
Expected: (a &amp; b)
  Actual: (NewPair Int Real)
(Solving for: [a:Type, b:Type])

:p fst newPair
       ^^^^^^^
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:p</span> fst <span class="symbol">$</span> fromNewPair newPair
</div><div class="result-block">1</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="command">:p</span> <span class="type-name">NewPair</span>
</div><div class="result-block">NewPair</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- TODO: these are broken since switching from newtype mechanism to ADTs
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :p NewPair Int
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; NewPair Int
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :p NewPair Int Real
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; NewPair Int Real
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- NewPairIntReal = NewPair Int Real
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :p NewPairIntReal
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; NewPair Int Real
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- newPair2 : NewPairIntReal = MkNewPair 1 2.0
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block"><span class="comment">-- :p fst $ fromNewPair newPair
</span></div></div><div class="cell"><div class="code-block"><span class="comment">-- &gt; 1
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">good_range <span class="symbol">:</span> <span class="type-name">Type</span> <span class="symbol">=</span> (1<span class="symbol">@</span><span class="type-name">Fin</span> 3)<span class="symbol">..</span>(2<span class="symbol">@</span>_)
</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">bad_range <span class="symbol">:</span> <span class="type-name">Int</span> <span class="symbol">=</span> (1<span class="symbol">@</span><span class="type-name">Fin</span> 3)<span class="symbol">..</span>(2<span class="symbol">@</span>_)
</div><div class="err-block">Type error:
Expected: Int
  Actual: Type

bad_range : Int = (1@Fin 3)..(2@_)
                           ^^
</div></div><div class="cell"><div class="code-block">

</div></div><div class="cell"><div class="code-block"><span class="comment">-- Tests for the Unit index set
</span></div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">==</span> ()
</div><div class="result-block">True</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">&lt;</span> ()
</div><div class="result-block">False</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">&gt;</span> ()
</div><div class="result-block">False</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">+</span> ()
</div><div class="result-block">()</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">-</span> ()
</div><div class="result-block">()</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">() <span class="symbol">*</span> ()
</div><div class="result-block">()</div></div><div class="cell"><div class="code-block">
</div></div><div class="cell"><div class="code-block">5<span class="symbol">.</span>0 <span class="symbol">.*</span> ()
</div><div class="result-block">()</div></div></div></body></html>